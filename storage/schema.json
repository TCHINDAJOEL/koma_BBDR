{
  "version": "1.0",
  "dictionary": {
    "owner": null,
    "source": "KOMA BBDR Excel export (user transformations)",
    "sensitivity": null,
    "status": "imported"
  },
  "tables": {
    "lots": {
      "description": "Lots de travaux (regroupement par spécialité)",
      "fields": {
        "lot_id": {
          "type": "integer",
          "required": true,
          "pk": true
        },
        "code_lot": {
          "type": "string",
          "required": true
        },
        "nom_lot": {
          "type": "string",
          "required": true
        },
        "description": {
          "type": "string",
          "required": false
        },
        "budget_previsionnel": {
          "type": "number",
          "required": false
        }
      },
      "dictionary": {
        "owner": null,
        "source": "KOMA BBDR - Excel",
        "sensitivity": null,
        "status": "imported"
      }
    },
    "sections": {
      "description": "Sections (regroupement logique de tâches)",
      "fields": {
        "section_id": {
          "type": "integer",
          "required": true,
          "pk": true
        },
        "lot_id": {
          "type": "integer",
          "required": true
        },
        "code_section": {
          "type": "string",
          "required": true
        },
        "nom_section": {
          "type": "string",
          "required": true
        },
        "description": {
          "type": "string",
          "required": false
        }
      },
      "dictionary": {
        "owner": null,
        "source": "KOMA BBDR - Excel",
        "sensitivity": null,
        "status": "imported"
      }
    },
    "taches": {
      "description": "Tâches (unité centrale du planning et devis)",
      "fields": {
        "tache_id": {
          "type": "integer",
          "required": true,
          "pk": true
        },
        "section_id": {
          "type": "integer",
          "required": true
        },
        "code_tache": {
          "type": "string",
          "required": true
        },
        "nom_tache": {
          "type": "string",
          "required": true
        },
        "description": {
          "type": "string",
          "required": false
        },
        "unite": {
          "type": "string",
          "required": false
        },
        "quantite_prevue": {
          "type": "number",
          "required": false
        },
        "cout_previsionnel": {
          "type": "number",
          "required": false
        },
        "date_debut": {
          "type": "date",
          "required": false
        },
        "date_fin": {
          "type": "date",
          "required": false
        },
        "statut": {
          "type": "string",
          "required": false
        }
      },
      "dictionary": {
        "owner": null,
        "source": "KOMA BBDR - Excel",
        "sensitivity": null,
        "status": "imported"
      }
    },
    "operations": {
      "description": "Opérations (actions concrètes rattachées à une tâche)",
      "fields": {
        "operation_id": {
          "type": "integer",
          "required": true,
          "pk": true
        },
        "tache_id": {
          "type": "integer",
          "required": true
        },
        "code_operation": {
          "type": "string",
          "required": true
        },
        "nom_operation": {
          "type": "string",
          "required": true
        },
        "description": {
          "type": "string",
          "required": false
        },
        "duree_estimee": {
          "type": "number",
          "required": false
        },
        "cout_estime": {
          "type": "number",
          "required": false
        },
        "avancement": {
          "type": "number",
          "required": false
        }
      },
      "dictionary": {
        "owner": null,
        "source": "KOMA BBDR - Excel",
        "sensitivity": null,
        "status": "imported"
      }
    },
    "materiaux": {
      "description": "Matériaux et consommables",
      "fields": {
        "materiau_id": {
          "type": "integer",
          "required": true,
          "pk": true
        },
        "code_materiau": {
          "type": "string",
          "required": false
        },
        "nom_materiau": {
          "type": "string",
          "required": true
        },
        "unite": {
          "type": "string",
          "required": true
        },
        "prix_unitaire": {
          "type": "number",
          "required": false
        },
        "categorie": {
          "type": "string",
          "required": true
        },
        "fournisseur": {
          "type": "string",
          "required": false
        }
      },
      "dictionary": {
        "owner": null,
        "source": "KOMA BBDR - Excel",
        "sensitivity": null,
        "status": "imported"
      }
    },
    "charges": {
      "description": "Charges et frais généraux",
      "fields": {
        "charge_id": {
          "type": "integer",
          "required": true,
          "pk": true
        },
        "designation": {
          "type": "string",
          "required": true
        },
        "categorie": {
          "type": "string",
          "required": true
        },
        "unite": {
          "type": "string",
          "required": true
        },
        "quantite": {
          "type": "number",
          "required": true
        },
        "cout_unitaire": {
          "type": "number",
          "required": false
        },
        "amortissement": {
          "type": "number",
          "required": false
        },
        "cout_final": {
          "type": "number",
          "required": true
        }
      },
      "dictionary": {
        "owner": null,
        "source": "KOMA BBDR - Excel",
        "sensitivity": null,
        "status": "imported"
      }
    },
    "categories_materiaux": {
      "description": "Catégories de matériaux",
      "fields": {
        "categorie_id": {
          "type": "integer",
          "required": true,
          "pk": true
        },
        "libelle": {
          "type": "string",
          "required": true
        }
      },
      "dictionary": {
        "owner": null,
        "source": "KOMA BBDR - Excel",
        "sensitivity": null,
        "status": "imported"
      }
    },
    "operation_materiaux": {
      "description": "Liaison opérations-matériaux (consommation)",
      "fields": {
        "id": {
          "type": "integer",
          "required": true,
          "pk": true
        },
        "operation_id": {
          "type": "integer",
          "required": true
        },
        "materiau_id": {
          "type": "integer",
          "required": true
        },
        "quantite": {
          "type": "number",
          "required": false
        },
        "cout_unitaire": {
          "type": "number",
          "required": false
        },
        "cout_total": {
          "type": "number",
          "required": false
        }
      },
      "dictionary": {
        "owner": null,
        "source": "KOMA BBDR - Excel",
        "sensitivity": null,
        "status": "imported"
      }
    },
    "main_oeuvre": {
      "description": "Profils main d'œuvre",
      "fields": {
        "mo_id": {
          "type": "integer",
          "required": true,
          "pk": true
        },
        "type_mo": {
          "type": "string",
          "required": true
        },
        "categorie_mo": {
          "type": "string",
          "required": false
        },
        "section_mo": {
          "type": "string",
          "required": true
        },
        "unite_facturation": {
          "type": "string",
          "required": true
        },
        "cout_unitaire": {
          "type": "number",
          "required": false
        },
        "variation": {
          "type": "number",
          "required": false
        },
        "cout_final": {
          "type": "number",
          "required": false
        }
      },
      "dictionary": {
        "owner": null,
        "source": "KOMA BBDR - Excel",
        "sensitivity": null,
        "status": "imported"
      }
    },
    "sections_main_oeuvre": {
      "description": "Sections de main d'œuvre",
      "fields": {
        "section_mo_id": {
          "type": "integer",
          "required": true,
          "pk": true
        },
        "libelle": {
          "type": "string",
          "required": true
        }
      },
      "dictionary": {
        "owner": null,
        "source": "KOMA BBDR - Excel",
        "sensitivity": null,
        "status": "imported"
      }
    },
    "operation_main_oeuvre": {
      "description": "Liaison opérations-main d'œuvre",
      "fields": {
        "id": {
          "type": "integer",
          "required": true,
          "pk": true
        },
        "operation_id": {
          "type": "integer",
          "required": true
        },
        "mo_id": {
          "type": "integer",
          "required": true
        },
        "quantite": {
          "type": "number",
          "required": false
        },
        "cout_total": {
          "type": "number",
          "required": false
        }
      },
      "dictionary": {
        "owner": null,
        "source": "KOMA BBDR - Excel",
        "sensitivity": null,
        "status": "imported"
      }
    },
    "engins": {
      "description": "Engins et équipements",
      "fields": {
        "engin_id": {
          "type": "integer",
          "required": true,
          "pk": true
        },
        "nom_engin": {
          "type": "string",
          "required": true
        },
        "unite": {
          "type": "string",
          "required": true
        },
        "cout_journalier": {
          "type": "number",
          "required": false
        },
        "cout_final": {
          "type": "number",
          "required": false
        }
      },
      "dictionary": {
        "owner": null,
        "source": "KOMA BBDR - Excel",
        "sensitivity": null,
        "status": "imported"
      }
    },
    "operation_engins": {
      "description": "Liaison opérations-engins",
      "fields": {
        "id": {
          "type": "integer",
          "required": true,
          "pk": true
        },
        "operation_id": {
          "type": "integer",
          "required": true
        },
        "engin_id": {
          "type": "integer",
          "required": true
        },
        "duree_utilisation": {
          "type": "number",
          "required": false
        },
        "cout_total": {
          "type": "number",
          "required": false
        }
      },
      "dictionary": {
        "owner": null,
        "source": "KOMA BBDR - Excel",
        "sensitivity": null,
        "status": "imported"
      }
    },
    "utilitaires_materiel": {
      "description": "Utilitaires matériel (carburant, eau, électricité)",
      "fields": {
        "utilitaire_id": {
          "type": "integer",
          "required": true,
          "pk": true
        },
        "designation": {
          "type": "string",
          "required": true
        },
        "unite": {
          "type": "string",
          "required": true
        },
        "cout_unitaire": {
          "type": "number",
          "required": false
        },
        "cout_final": {
          "type": "number",
          "required": false
        }
      },
      "dictionary": {
        "owner": null,
        "source": "KOMA BBDR - Excel",
        "sensitivity": null,
        "status": "imported"
      }
    },
    "etudes": {
      "description": "Études techniques et architecturales",
      "fields": {
        "etude_id": {
          "type": "integer",
          "required": true,
          "pk": true
        },
        "numero": {
          "type": "integer",
          "required": true
        },
        "nom_etude": {
          "type": "string",
          "required": true
        },
        "type_etude": {
          "type": "string",
          "required": true
        },
        "details": {
          "type": "string",
          "required": false
        },
        "unite": {
          "type": "string",
          "required": true
        },
        "quantite": {
          "type": "integer",
          "required": true
        },
        "cout_unitaire": {
          "type": "integer",
          "required": true
        },
        "cout_total": {
          "type": "integer",
          "required": true
        },
        "date_livraison": {
          "type": "date",
          "required": false
        }
      },
      "dictionary": {
        "owner": null,
        "source": "KOMA BBDR - Excel",
        "sensitivity": null,
        "status": "imported"
      }
    },
    "tarifs_koma": {
      "description": "Tarifs des prestations KOMA",
      "fields": {
        "tarif_id": {
          "type": "integer",
          "required": true,
          "pk": true
        },
        "categorie": {
          "type": "string",
          "required": true
        },
        "prestation": {
          "type": "string",
          "required": true
        },
        "prix_fcfa": {
          "type": "integer",
          "required": true
        },
        "conditions": {
          "type": "string",
          "required": false
        }
      },
      "dictionary": {
        "owner": null,
        "source": "KOMA BBDR - Excel",
        "sensitivity": null,
        "status": "imported"
      }
    },
    "types_projet": {
      "description": "Types de projets",
      "fields": {
        "type_projet_id": {
          "type": "integer",
          "required": true,
          "pk": true
        },
        "libelle": {
          "type": "string",
          "required": true
        }
      },
      "dictionary": {
        "owner": null,
        "source": "KOMA BBDR - Excel",
        "sensitivity": null,
        "status": "imported"
      }
    },
    "profils_utilisateurs": {
      "description": "Profils utilisateurs et droits d'accès",
      "fields": {
        "profil_id": {
          "type": "integer",
          "required": true,
          "pk": true
        },
        "profil": {
          "type": "string",
          "required": true
        },
        "description": {
          "type": "string",
          "required": true
        },
        "acces_principal": {
          "type": "string",
          "required": true
        }
      },
      "dictionary": {
        "owner": null,
        "source": "KOMA BBDR - Excel",
        "sensitivity": null,
        "status": "imported"
      }
    },
    "unites": {
      "description": "Unités de mesure",
      "fields": {
        "unite_id": {
          "type": "integer",
          "required": true,
          "pk": true
        },
        "code": {
          "type": "string",
          "required": true
        },
        "libelle": {
          "type": "string",
          "required": true
        }
      },
      "dictionary": {
        "owner": null,
        "source": "KOMA BBDR - Excel",
        "sensitivity": null,
        "status": "imported"
      }
    }
  },
  "relations": [
    {
      "from": "sections.lot_id",
      "to": "lots.lot_id",
      "cardinality": "n-1",
      "onDelete": "restrict",
      "onUpdate": "restrict",
      "note": "Relation importée depuis database_schema.json (KOMA)."
    },
    {
      "from": "taches.section_id",
      "to": "sections.section_id",
      "cardinality": "n-1",
      "onDelete": "restrict",
      "onUpdate": "restrict",
      "note": "Relation importée depuis database_schema.json (KOMA)."
    },
    {
      "from": "operations.tache_id",
      "to": "taches.tache_id",
      "cardinality": "n-1",
      "onDelete": "restrict",
      "onUpdate": "restrict",
      "note": "Relation importée depuis database_schema.json (KOMA)."
    },
    {
      "from": "operation_materiaux.operation_id",
      "to": "operations.operation_id",
      "cardinality": "n-1",
      "onDelete": "restrict",
      "onUpdate": "restrict",
      "note": "Relation importée depuis database_schema.json (KOMA)."
    },
    {
      "from": "operation_materiaux.materiau_id",
      "to": "materiaux.materiau_id",
      "cardinality": "n-1",
      "onDelete": "restrict",
      "onUpdate": "restrict",
      "note": "Relation importée depuis database_schema.json (KOMA)."
    },
    {
      "from": "operation_metiers.operation_id",
      "to": "operations.operation_id",
      "cardinality": "n-1",
      "onDelete": "restrict",
      "onUpdate": "restrict",
      "note": "Relation importée depuis database_schema.json (KOMA)."
    },
    {
      "from": "operation_metiers.metier_id",
      "to": "metiers.metier_id",
      "cardinality": "n-1",
      "onDelete": "restrict",
      "onUpdate": "restrict",
      "note": "Relation importée depuis database_schema.json (KOMA)."
    },
    {
      "from": "operation_engins.operation_id",
      "to": "operations.operation_id",
      "cardinality": "n-1",
      "onDelete": "restrict",
      "onUpdate": "restrict",
      "note": "Relation importée depuis database_schema.json (KOMA)."
    },
    {
      "from": "operation_engins.engin_id",
      "to": "engins.engin_id",
      "cardinality": "n-1",
      "onDelete": "restrict",
      "onUpdate": "restrict",
      "note": "Relation importée depuis database_schema.json (KOMA)."
    },
    {
      "from": "metiers.categorie_metier_id",
      "to": "categories_metiers.categorie_metier_id",
      "cardinality": "n-1",
      "onDelete": "restrict",
      "onUpdate": "restrict",
      "note": "Relation importée depuis database_schema.json (KOMA)."
    },
    {
      "from": "metiers.sous_categorie_metier_id",
      "to": "categories_metiers.categorie_metier_id",
      "cardinality": "n-1",
      "onDelete": "restrict",
      "onUpdate": "restrict",
      "note": "Relation importée depuis database_schema.json (KOMA)."
    },
    {
      "from": "categories_metiers.parent_id",
      "to": "categories_metiers.categorie_metier_id",
      "cardinality": "n-1",
      "onDelete": "restrict",
      "onUpdate": "restrict",
      "note": "Relation importée depuis database_schema.json (KOMA)."
    }
  ]
}